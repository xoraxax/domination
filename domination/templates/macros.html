{% macro render_card(card) -%}
<div class="card {{ card.card_type }}">
  <h4>{{ card.name }} <span class="costs">&nbsp;{{ card.cost }}&nbsp;</span></h4>
  <div style="display: none;">
    <div class="descriptionblock">
      <h5 class="descheading">Description</h5>
      <div class="description">
        {{ card.desc }}
      </div>
      {% if card.worth %}
      <div class="worth">
        Worth: {{ card.worth }}
      </div>
      {% endif %}
      {% if card.points  %}
      <div class="points">
        Points: {{ card.points }}
      </div>
      {% endif %}
      Cost: {{ card.cost }}
    </div>
  </div>
  {% if caller %}
    {{ caller() }}
  {% endif %}
</div>
{%- endmacro %}
{% macro init_render_card() -%}
  <script type="text/javascript">
    $(function() {
      $(".card").tooltip({
        bodyHandler: function() {
          return $($(this).find(".descriptionblock")).html() 
        }, 
        showURL: false 
      });
    });
    $(function() {
      $(".costs").corner("10px");
      $(".card").corner();
    });
  </script>
{%- endmacro %}
